# Проект "Выбор локации для скважины"


## Данные

Предоставлены пробы нефти в трёх регионах: в каждом 10 000 месторождений, где измерили качество нефти и объём её запасов.

## Задача

Для добывающей компании «ГлавРосГосНефть» нужно помочь решить, где бурить новую скважину.
Нужно поистроить модель машинного обучения, которая поможет определить регион, где добыча принесёт наибольшую прибыль. Проанализировать возможную прибыль и риски техникой Bootstrap.

Шаги для выбора локации:
- В избранном регионе ищут месторождения, для каждого определяют значения признаков;
- Строят модель и оценивают объём запасов;
- Выбирают месторождения с самым высокими оценками значений. Количество месторождений зависит от бюджета компании и стоимости разработки одной скважины;
- Прибыль равна суммарной прибыли отобранных месторождений.


## Ход исследования

- Подготовили данные: дублирований, пропусков нет, понятные форматы, распределения не вызывают вопросов
- Разбили выборку на обучающую и тестовую в соотношении 75:25
- Обучили и проверили модель для каждого региона. Для обучения модели подходит только линейная регрессия (остальные — недостаточно предсказуемые).
Предсказанные значения очень близки к фактическим. Но смущает значение rmse для 1 и 3 регионов - оно составляет 41-46% от среднего зависимой переменной.
- Подготовились к расчету прибыли: 
  - Бюджет на разработку скважин в регионе — 10 млрд рублей.
  - При нынешних ценах один баррель сырья приносит 450 рублей дохода. 
  - Доход с каждой единицы продукта составляет 450 тыс. рублей, поскольку объём указан в тысячах баррелей.
  - Чтобы разработка скважины в регионе окупилась, нужно добыть 22,2 млн баррелей
  - Тк в результате всех исследований разрабатывают 200 скважин, то одна скважина должна приносить 111 тыс баррелей.
  - Среди наших  регионов все средние ниже целевого - придется искать глубже 
- Рассчитали прибыль и риски:
  - После оценки рисков нужно оставить лишь те регионы, в которых вероятность убытков меньше 2.5%. Среди них - выбрать регион с наибольшей средней прибылью
  - Применили технику Bootstrap с 1000 выборок, чтобы найти распределение прибыли
  - Нашли 95%-й доверительный интервал распределения прибыли
  - Оценили риски как отношение убыточных скважин к всем скважинам
- Результат:
  
  Region1:
  - Средняя выручка,млн руб.: 472.71
  - 2.5%-квантиль: -50.07
  - 97.5%-квантиль: 996.16
  - Риск убытков: 4%

  Region2:
  - Средняя выручка,млн руб.: 473.65
  - 2.5%-квантиль: 55.36
  - 97.5%-квантиль: 916.52
  - Риск убытков: 1%

  Region3:
  - Средняя выручка,млн руб.: 406.93
  - 2.5%-квантиль: -121.21
  - 97.5%-квантиль: 941.68
  - Риск убытков: 7%

## Выводы

- Наиболее привлекательный регион для разработки - второй. 
- В нем минимальные риски выйти в убыток и наиболе высокие ожидания по объемам добычи и,как следствие, прибыли, если принять гипотезу, что операционные издержки во всех трех регионах одинаковые.
- Также качество работы модели на данных второго региона выше: rmse = 1 при средних значениях датасета - 65, что говорит о более точных предсказаниях.

## Используемые библиотеки
*pandas, numpy, sklearn, matplotlib*
